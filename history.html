<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <form>
      <input type="text" name="city" id="city" />
      <button type="submit">Search</button>
    </form>
​
    <div id="history"></div>
​
    <script
      src="http://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script>
      var searches = JSON.parse(localStorage.getItem("searches")) || [];
​
      function renderHistory() {
        $("#history").empty();
​
        for (var i = 0; i < searches.length; i++) {
          $("#history").append($("<p class='city'>").text(searches[i]));
        }
      }
​
      $("form").on("submit", function (event) {
        event.preventDefault();
​
        var city = $("#city").val().trim();
        searches.push(city);
​
        localStorage.setItem("searches", JSON.stringify(searches));
​
        $("#city").val("");
​
        renderHistory();
      });
​
      $(document).on("click", ".city", function () {
        console.log($(this).text());
      });
​
      renderHistory();
    </script>
  </body>
</html>
Collapse



